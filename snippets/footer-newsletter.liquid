{%- comment -%}
  Footer Newsletter (columna)
  Uso: bloque "newsletter_column" en sections/footer.liquid
{%- endcomment -%}

<div class="footer-newsletter-col">
  {%- if section.settings.enable_animate -%}<div class="animate-fade">{%- endif -%}
  {%- if block.settings.title != blank -%}
    <h3 class="footer-col__title">{{ block.settings.title | escape }}</h3>
  {%- endif -%}

  {%- if block.settings.text != blank -%}
    <p class="footer-newsletter__text">{{ block.settings.text }}</p>
  {%- endif -%}

  {%- form 'customer', id: 'ContactFooter', class: 'footer-newsletter__form' -%}
    <input type="hidden" name="contact[tags]" value="newsletter">
    <div class="footer-newsletter__field">
      <input
        id="NewsletterForm--footer"
        type="email"
        name="contact[email]"
        class="footer-newsletter__input"
        value="{{ form.email }}"
        aria-label="{{ 'newsletter.label' | t | default: 'Email' }}"
        placeholder="{{ block.settings.placeholder | default: 'email@example.com' }}"
        autocorrect="off"
        autocapitalize="off"
        required
      >
      <button class="footer-newsletter__button" aria-label="{{ block.settings.button_label | default: 'Subscribe' }}">
        <span>{{ block.settings.button_label | default: 'Subscribe' }}</span>
      </button>
    </div>
    {%- if form.errors -%}
      <p class="footer-newsletter__msg is-error">
        {{ form.errors.translated_fields.email | capitalize }}
        {{ form.errors.messages.email }}
      </p>
    {%- endif -%}
    {%- if form.posted_successfully? -%}
      <p class="footer-newsletter__msg is-success">
        {{ 'newsletter.success' | t | default: 'Thanks for subscribing.' }}
      </p>
    {%- endif -%}
  {%- endform -%}

  {%- if section.settings.enable_animate -%}</div>{%- endif -%}
</div>
